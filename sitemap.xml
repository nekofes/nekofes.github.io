<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
  {%- comment -%}
  固定ページ（pages）を出力。assets 等は除外したい場合は条件を追加。
  {%- endcomment -%}
  {%- for page in site.pages -%}
    {%- if page.sitemap != false and page.url and page.url != '' -%}
      {%- unless page.url contains '/assets/' or page.url contains '/vendor/' or page.url contains '/node_modules/' -%}
        <url>
          <loc>{{ site.url }}{{ page.url | replace:'index.html','' }}</loc>
        </url>
      {%- endunless -%}
    {%- endif -%}
  {%- endfor -%}

  {%- comment -%}
  投稿（posts）がある場合はこちらも出力。無ければ空ループになるだけ。
  {%- endcomment -%}
  {%- for post in site.posts -%}
    <url>
      <loc>{{ site.url }}{{ post.url }}</loc>
    </url>
  {%- endfor -%}
</urlset>

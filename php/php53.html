<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><script>if(self!=top){top.location=self.location;}</script><title>PHP MEMO</title><script type = "text/javascript" src="../o/run_prettify.js"></script><link href = "../o/prettify.css" type="text/css" rel="stylesheet" /><style>.prettyprint ol.linenums > li {list-style-type: decimal; }.copy-button {display: inline-block; padding: 2px 5px; border: 1px solid #000; border-radius: 3px; text-decoration: none; color: #000; background-color: #ffffcc; }.copy-button:hover {background-color: #ffeb99; }</style></head><body oncontextmenu='return false;'><table><tr><td><label class="toggle-switch"><input type="checkbox" id="toggle"><span class="slider"></span></label></td><td><p id="langText">現在の言語: 日本語</p></td></tr></table><input type="hidden" id="lang" value="0"><a id="n1" href='#' onClick="f2();">戻る</a><br><br><table><tr><td style="font-size:150%;font-width:bold;background-color:rgb(143 188 143 / 0.4);"><div id="n2">疑似構造体配列</div></td></tr><tr><td><div id="n3">配列関連</div></td></tr></table><br><div id="n4">構造体を利用した配列を準備するには下記の方法があります。<br>(1) クラスを使った実装<br>(2) 連想配列の配列<br></div><br><div id="n5">[サンプル]</div><br><div id=h1><a href="javascript:void(0);" id="copy1" class="copy-button" data-target="codeBlock1">copy</a><pre id="codeBlock1" class="prettyprint linenums;lang-js;">
readonly class test {
    public function __construct(
        public int $num = 0,
        public string $data ="",
    ) {}
}

class test1
{
	//クラスを使った実装
	function test1():void
	{
		$ary = [];
		for($i=0; $i<3; $i++)
		{
			$ary[] = new test
			(				num:$i+1,
				data:"index:$i"
			);
		}
		
		for($i=0; $i< 3; $i++)
		{
			echo "i:$i num:".$ary[$i]->num." data:".$ary[$i]->data.PHP_EOL;
		}
/*
i:0 num:1 data:index:0
i:1 num:2 data:index:1
i:2 num:3 data:index:2
*/
	}
	//連想配列の配列
	function test2():void
	{
		for($i=0; $i<3; $i++)
		{
			$ary[] =
			[
				"num" => $i+1,
				"data" => "index:$i"
			];
		}
		for($i=0; $i< 3; $i++)
		{
			echo "i:$i num:".$ary[$i]["num"]." data:".$ary[$i]["data"].PHP_EOL;
		}
/*
i:0 num:1 data:index:0
i:1 num:2 data:index:1
i:2 num:3 data:index:2
*/
	}
}
echo "&lt;pre&gt;";
$cls1= new test1();
$cls1->test1();
$cls1->test2();
echo "&lt;/pre&gt;";
</pre></div><div id=h11><a href="javascript:void(0);" id="copy11" class="copy-button" data-target="codeBlock11">copy</a><pre id="codeBlock11" class="prettyprint linenums;lang-js;">
readonly class test 
{
	public function __construct(
		public int $num = 0,
		public string $data ="",
	) {}
}

class test1
{
	//Implementation using a class
	function test1():void
	{
		$ary = [];
		for($i=0; $i<3; $i++)
		{
			$ary[] = new test
			(
				num:$i+1,
				data:"index:$i"
			);
		}
		
		for($i=0; $i< 3; $i++)
		{
			echo "i:$i num:".$ary[$i]->num." data:".$ary[$i]->data.PHP_EOL;
		}
/*
i:0 num:1 data:index:0
i:1 num:2 data:index:1
i:2 num:3 data:index:2
*/
		}
		//Array of associative arrays
		function test2():void
		{ 
			for($i=0; $i<3; $i++) 
			{ 
				$ary[] = 
				[ 
					"num" => $i+1, 
					"data" => "index:$i" 
				]; 
			} 
			for($i=0; $i< 3; $i++) 
			{ 
				echo "i:$i num:".$ary[$i]["num"]." data:".$ary[$i]["data"].PHP_EOL; 
			}
/*
i:0 num:1 data:index:0
i:1 num:2 data:index:1
i:2 num:3 data:index:2
*/ 
		}
	}
echo "&lt;pre&gt;";
$cls1= new test1();
$cls1->test1();
$cls1->test2();
echo "&lt;/pre&gt;";
</pre></div><div id="n6"><div style="background-color:rgb(245 255 250 / 1.0);text-align:left;">クラスを使った実装のイメージ</div>[クラスの構造体にreadonlyをつけた理由]<br>C言語の構造体は値を書き換えられますが、<br>モダンなPHP開発では<br>「一度作ったデータ（構造体）は変更せず、変えるなら作り直す」<br>という設計がバグを防ぐため、readonly クラスがよく使われます。<br><br><div style="background-color:rgb(245 255 250 / 1.0);text-align:left;">連想配列の配列のイメージ</div>1件分のデータを表す連想配列を、親となる配列にどんどん追加（push）していくイメージです。<br><br><table border=1><tr><td>特徴</td><td>クラスの配列</td><td>連想配列の配列</td></tr><tr><td>型の安全性</td><td>高い（int以外入れるとエラー）</td><td>低い（何でも入ってしまう）</td></tr><tr><td>メモリ</td><td>効率的（構造が固定されているため）</td><td>やや非効率（各要素がキー名文字列を持つため）</td></tr><tr><td>手軽さ</td><td>クラス定義が必要</td><td>定義なしで今すぐ書ける</td></tr></table></div><br><br><a id="n7" href='#' onClick="f2();">戻る</a><br><br><table style='background-color:rgba(220,220,220,255);color:black;text-align:center;'><tr><td style='background-color:rgba(198,198,255,255);color:black;text-align:center;'><b>著作権情報</b></td></tr><tr class=p2><td align=left >	ホームページおよびアプリ等に掲載されている情報等については、いかなる保障もいたしません。<br>ホームページおよびアプリ等を通じて入手したいかなる情報も複製、販売、出版または使用させたり、<br>または公開したりすることはできません。<br>当方は、ホームページおよびアプリ等を利用したいかなる理由によっての障害等が発生しても、<br>その結果ホームページおよびアプリ等を利用された本人または他の第三者が被った損害について<br>一切の責任を負わないものとします。<br></td></tr></table><style>.marker99ccff{background-color: rgb(153 204 255 / 0.5);}.marker8fbc8f{background-color: rgb(143 188 143 / 0.5);}.markerffd700{background-color: rgb(255 215 0 / 0.5);}.frame {background-color: rgb(240 248 255 / 0.5); border: 3px solid rgb(30 144 255 / 1.00);    padding: 5px;            margin: 10px;            margin-left:0px;word-break:break-all;}.toggle-switch {position: relative;display: inline-block;width: 60px;height: 34px;}.toggle-switch input {display: none;}.slider {position: absolute;cursor: pointer;top: 0; left: 0;right: 0; bottom: 0;background-color: lightgreen; transition: 0.4s;border-radius: 34px;}.slider:before {position: absolute;content: "";height: 26px; width: 26px;left: 4px; bottom: 4px;background-color: white;transition: 0.4s;border-radius: 50%;content:"JP";text-align: center;}input:checked + .slider {background-color: lightblue; }input:checked + .slider:before {transform: translateX(26px);content:"EN";text-align: center;}</style><script>function copyCodeById(targetId) {const codeElement = document.getElementById(targetId);if (!codeElement) {console.error("対象のコードブロックが見つかりません: " + targetId);return;}const codeText = codeElement.innerText;if (navigator.clipboard && navigator.clipboard.writeText) {navigator.clipboard.writeText(codeText).then(() => {console.log("コピー成功");}).catch(err => {console.error("コピー中にエラーが発生しました:", err);});} else {console.error("Clipboard API はこのブラウザで利用できません");}}document.querySelectorAll('.copy-button').forEach(function(button) {button.addEventListener('click', function() {const targetId = this.getAttribute('data-target');copyCodeById(targetId);});});</script><script>let lang = 0; let nextUrlPath="";const text = {ja: {n1:"戻る",n2: "疑似構造体配列",n3: "配列関連",n4:`構造体を利用した配列を準備するには下記の方法があります。<br>(1) クラスを使った実装<br>(2) 連想配列の配列<br>`,n5:`[サンプル]`,n6:`<div style="background-color:rgb(245 255 250 / 1.0);text-align:left;">クラスを使った実装のイメージ</div>[クラスの構造体にreadonlyをつけた理由]<br>C言語の構造体は値を書き換えられますが、<br>モダンなPHP開発では<br>「一度作ったデータ（構造体）は変更せず、変えるなら作り直す」<br>という設計がバグを防ぐため、readonly クラスがよく使われます。<br><br><div style="background-color:rgb(245 255 250 / 1.0);text-align:left;">連想配列の配列のイメージ</div>1件分のデータを表す連想配列を、親となる配列にどんどん追加（push）していくイメージです。<br><br><table border=1><tr><td>特徴</td><td>クラスの配列</td><td>連想配列の配列</td></tr><tr><td>型の安全性</td><td>高い（int以外入れるとエラー）</td><td>低い（何でも入ってしまう）</td></tr><tr><td>メモリ</td><td>効率的（構造が固定されているため）</td><td>やや非効率（各要素がキー名文字列を持つため）</td></tr><tr><td>手軽さ</td><td>クラス定義が必要</td><td>定義なしで今すぐ書ける</td></tr></table>`,n7:"戻る",},en: {n1: "back",n2: "Pseudo-structure array",n3: "Array related",n4:`There are several ways to create an array using a structure. <br>(1) Class-based implementation<br>(2) Associative array array<br>`,n5:`[Sample]`,n6:`<div style="background-color:rgb(245 255 250 / 1.0);text-align:left;">Example of class-based implementation</div>[Reason for marking a class structure as readonly]<br>In C, structures can be rewritten, but in modern PHP development, readonly classes are often used to prevent bugs. The design principle is to avoid modifying data (structures) once they've been created, and to recreate them if necessary. <br><br><div style="background-color:rgb(245 255 250 / 1.0);text-align:left;">Image of an array of associative arrays</div>This is an example of how associative arrays, each representing a single piece of data, are continually added (pushed) to a parent array. <br><br><table border=1><tr><td>Features</td><td>Class Array</td><td>Associative Array</td></tr><tr><td>Type Safety</td><td>High (Error when using anything other than an int)</td><td>Low (Anything can be used)</td></tr><tr><td>Memory</td><td>Efficient (Due to fixed structure)</td><td>Slightly inefficient (Each element has a key name string)</td></tr><tr><td>Ease of Use</td><td>Requires class definition</td><td>Can be written immediately without definition</td></tr></table>`,n7:"back",}};function applyTextAll(lang, divIds) {divIds.forEach((id) => applyText(lang, id));}function getText(lang, divId) {return (text[lang] && text[lang][divId]) ?? (text.ja && text.ja[divId]) ?? '';}function applyText(lang, divId) {const el = document.getElementById(divId);if (!el) return;el.innerHTML = getText(lang, divId);}const ary = ["n1", "n2", "n3", "n4", "n5", "n6", "n7"];document.addEventListener("DOMContentLoaded", () => {const toggle = document.getElementById("toggle");const hiddenLang = document.getElementById("lang");const langText = document.getElementById("langText");f4();toggle.addEventListener("change", () => {changeToggle();});});function changeToggle(){const hiddenLang = document.getElementById("lang");if (toggle.checked) {hiddenLang.value = 1;lang=1;} else {hiddenLang.value = 0;lang=0;}displayLangText();applyTextAll(lang==0?"ja":"en", ary);}function displayLangText(){const hiddenLang = document.getElementById("lang");if (hiddenLang.value == 0) {langText.textContent = "現在の言語: 日本語";} else {langText.textContent = "current language: English";}f3();f0();const obj=document.getElementById('lang');if(obj.value==1){toggle.checked=true;const hiddenLang = document.getElementById("lang");hiddenLang.value = 1;}else{toggle.checked=false;}}function f1(value){const obj=document.getElementById('lang');obj.value=value;f0();}function f0(){const obj=document.getElementById('lang');let lang=obj.value;applyTextAll(lang==0?"ja":"en", ary);f4();}function f4(){const obj=document.getElementById('lang');let lang=obj.value;const h1=document.getElementById('h1');const h11=document.getElementById('h11');if(lang==1){h1.style.display="none";h11.style.display="block";}else{h1.style.display="block";h11.style.display="none";}}function f3(){let o1=new URL(window.location.href);let o2=o1.searchParams;let d=o2.get('lang');const hiddenLang = document.getElementById("lang");if(d==1||hiddenLang.value==1){hiddenLang.value=1;}else{hiddenLang.value=0;}}function f2(){const obj=document.getElementById('lang');let lang=obj.value;window.location.href=urlPath();}function urlPath(){const obj=document.getElementById('lang');let lang=obj.value;nextUrlPath="/php/index.html";return nextUrlPath+"?lang=" + lang;}</script></body></html>